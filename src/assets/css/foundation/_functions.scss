@use "sass:math";
@use "./variable" as v;

// デザインpxをビューポート基準のremに変換。PC幅以下では最小値で打ち止め。$max 指定で最大値キャップ可能。
@function vw($px, $max: null) {
  $min-rem: #{math.div($px * v.$inner-min, v.$pc-design-width * 16)}rem;
  $value: max($min-rem, calc($px * var(--ratio-rem)));
  @if $max != null {
    $max-rem: #{math.div($max, 16)}rem;
    @return min($value, $max-rem);
  }
  @return $value;
}

@function rem($px) {
  @return calc(#{math.div($px, 16)} * 1rem);
}
