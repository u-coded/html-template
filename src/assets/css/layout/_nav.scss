@use "../foundation/mixin" as m;
@use "../foundation/functions" as f;

// ナビが開いているとき背景固定
body:has(.l-nav.is-open) {
  overflow: hidden;
}

/**
 * l-nav
 */
@include m.m(max-md) {
  .l-nav {
    display: block;
    opacity: 0;
    visibility: hidden;
    position: fixed;
    top: 0;
    z-index: 1;
    width: 100%;
    background: white;
    transition: opacity var(--duration), visibility var(--duration);
    &.is-open {
      opacity: 1;
      visibility: visible;
    }
  }
  .l-nav__list {
    padding: f.vw(100) f.vw(15);
    text-align: center;
  }
}

@include m.m {
  .l-nav {
  }
  .l-nav__list {
    display: flex;
    gap: f.vw(30);
    justify-content: flex-end;
  }
}

/**
 * l-nav-hamburger
 */
.l-nav-hamburger {
  position: absolute;
  top: f.vw(10);
  right: f.vw(10);
  z-index: 2;
  width: f.vw(40);
  height: f.vw(40);
  border: 1px solid;
  background: white;

  // 閉じるボタン
  &.is-open {
    .l-nav-hamburger__icon {
      background: transparent;
      &::before {
        top: 0;
        rotate: 135deg;
      }
      &::after {
        top: 0;
        rotate: -135deg;
      }
    }
  }
}

.l-nav-hamburger__icon {
  position: absolute;
  top: 50%;
  left: f.vw(5);
  width: f.vw(28);
  height: 1px;
  background: rgb(var(--black));
  transition: all var(--duration);
  &::before,
  &::after {
    content: "";
    position: absolute;
    left: 0;
    width: inherit;
    height: inherit;
    background: rgb(var(--black));
    transition: inherit;
  }
  &::before {
    top: f.vw(-9);
  }
  &::after {
    top: f.vw(9);
  }
}

/**
 * l-nav-overlay
 */
.l-nav-overlay {
  opacity: 0;
  visibility: hidden;
  position: fixed;
  top: 0;
  left: 0;
  width: 100%;
  height: 100%;
  background: rgb(var(--gray) / 0.3);
  backdrop-filter: blur(3px);
  transition: opacity var(--duration), visibility var(--duration);
  &.is-open {
    opacity: 1;
    visibility: visible;
  }
}
